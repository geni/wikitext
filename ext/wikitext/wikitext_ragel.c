
#line 1 "wikitext_ragel.rl"
// Copyright 2008-2009 Wincent Colaiuta. All rights reserved.
//
// Redistribution and use in source and binary forms, with or without
// modification, are permitted provided that the following conditions are met:
//
// 1. Redistributions of source code must retain the above copyright notice,
//    this list of conditions and the following disclaimer.
// 2. Redistributions in binary form must reproduce the above copyright notice,
//    this list of conditions and the following disclaimer in the documentation
//    and/or other materials provided with the distribution.

// THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
// AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
// IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
// ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDERS OR CONTRIBUTORS BE
// LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
// CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
// SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
// INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
// CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
// ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
// POSSIBILITY OF SUCH DAMAGE.

//----------------------------------------------------------------------//
// NOTE: wikitext_ragel.c is generated from wikitext_ragel.rl, so       //
//       if you make changes to the former they will be overwritten.    //
//       You should perform all your edits in wikitext_ragel.rl.        //
//----------------------------------------------------------------------//

#include "wikitext_ragel.h"
#include "wikitext.h"
#include <stdio.h>

#define EMIT(t)     do { out->type = t; out->stop = p + 1; out->column_stop += (out->stop - out->start); } while (0)
#define MARK()      do { mark = p; } while (0)
#define REWIND()    do { p = mark; } while (0)
#define AT_END()    (p + 1 == pe)
#define DISTANCE()  (p + 1 - ts)
#define NEXT_CHAR() (*(p + 1))


#line 45 "wikitext_ragel.c"
static const char _wikitext_actions[] = {
	0, 1, 0, 1, 1, 1, 5, 1, 
	6, 1, 7, 1, 17, 1, 18, 1, 
	19, 1, 20, 1, 21, 1, 22, 1, 
	23, 1, 24, 1, 25, 1, 26, 1, 
	27, 1, 28, 1, 29, 1, 30, 1, 
	31, 1, 32, 1, 33, 1, 34, 1, 
	35, 1, 36, 1, 37, 1, 38, 1, 
	39, 1, 40, 1, 41, 1, 42, 1, 
	43, 1, 44, 1, 45, 1, 46, 1, 
	47, 1, 48, 1, 50, 1, 51, 1, 
	52, 1, 53, 1, 54, 1, 55, 1, 
	56, 1, 57, 1, 58, 1, 59, 1, 
	60, 1, 61, 1, 62, 1, 63, 1, 
	64, 1, 65, 1, 66, 1, 67, 1, 
	68, 1, 69, 1, 70, 1, 71, 1, 
	72, 1, 73, 1, 74, 2, 1, 49, 
	2, 2, 49, 2, 3, 49, 2, 4, 
	49, 2, 7, 8, 2, 7, 9, 2, 
	7, 10, 2, 7, 11, 2, 7, 12, 
	2, 7, 13, 2, 7, 14, 2, 7, 
	15, 2, 7, 16, 2, 48, 1
};

static const short _wikitext_key_offsets[] = {
	0, 0, 2, 4, 6, 8, 10, 12, 
	16, 19, 25, 32, 39, 42, 50, 58, 
	65, 73, 81, 89, 96, 106, 112, 119, 
	125, 132, 144, 146, 148, 150, 152, 154, 
	156, 158, 160, 162, 163, 165, 166, 168, 
	170, 172, 174, 176, 177, 179, 181, 182, 
	186, 188, 190, 191, 193, 195, 197, 199, 
	200, 202, 203, 207, 209, 211, 213, 215, 
	217, 219, 221, 223, 224, 236, 248, 257, 
	271, 273, 275, 277, 279, 294, 309, 318, 
	320, 321, 323, 325, 327, 329, 331, 332, 
	334, 336, 337, 341, 343, 345, 358, 360, 
	362, 364, 366, 367, 369, 370, 372, 374, 
	376, 377, 378, 379, 380, 381, 382, 386, 
	391, 392, 393, 394, 408, 424, 433, 443, 
	449, 456, 462, 469, 523, 524, 525, 533, 
	543, 550, 551, 552, 553, 554, 570, 586, 
	602, 618, 634, 650, 666, 682, 698, 714, 
	730, 746, 762, 778, 794, 810, 826, 842, 
	858, 874, 890, 906, 922, 938, 954, 961, 
	968, 975, 982, 998, 1015, 1031, 1047, 1055, 
	1064, 1074, 1087, 1096, 1105, 1120, 1122, 1123, 
	1124, 1136, 1148, 1159, 1175, 1187, 1199, 1211, 
	1224, 1236, 1248, 1260, 1272, 1284, 1295, 1302, 
	1309, 1316, 1323, 1335, 1347, 1348, 1349, 1350
};

static const char _wikitext_trans_keys[] = {
	-128, -65, -128, -65, -128, -65, -128, -65, 
	-128, -65, -128, -65, 88, 120, 48, 57, 
	59, 48, 57, 48, 57, 65, 70, 97, 
	102, 59, 48, 57, 65, 70, 97, 102, 
	59, 48, 57, 65, 90, 97, 122, 59, 
	48, 57, 59, 109, 48, 57, 65, 90, 
	97, 122, 59, 112, 48, 57, 65, 90, 
	97, 122, 59, 48, 57, 65, 90, 97, 
	122, 59, 117, 48, 57, 65, 90, 97, 
	122, 59, 111, 48, 57, 65, 90, 97, 
	122, 59, 116, 48, 57, 65, 90, 97, 
	122, 59, 48, 57, 65, 90, 97, 122, 
	64, 95, 45, 46, 48, 57, 65, 90, 
	97, 122, 48, 57, 65, 90, 97, 122, 
	46, 48, 57, 65, 90, 97, 122, 48, 
	57, 65, 90, 97, 122, 46, 48, 57, 
	65, 90, 97, 122, 66, 69, 78, 80, 
	83, 84, 98, 101, 110, 112, 115, 116, 
	76, 108, 79, 111, 67, 99, 75, 107, 
	81, 113, 85, 117, 79, 111, 84, 116, 
	69, 101, 62, 77, 109, 62, 79, 111, 
	87, 119, 73, 105, 75, 107, 73, 105, 
	62, 82, 114, 69, 101, 62, 80, 84, 
	112, 116, 65, 97, 78, 110, 62, 82, 
	114, 79, 111, 78, 110, 71, 103, 62, 
	84, 116, 62, 76, 82, 108, 114, 79, 
	111, 67, 99, 75, 107, 81, 113, 85, 
	117, 79, 111, 84, 116, 69, 101, 62, 
	32, 62, 9, 13, 33, 47, 58, 64, 
	91, 96, 123, 126, 32, 62, 9, 13, 
	33, 47, 58, 64, 91, 96, 123, 126, 
	62, 33, 47, 58, 64, 91, 96, 123, 
	126, 32, 62, 67, 99, 9, 13, 33, 
	47, 58, 64, 91, 96, 123, 126, 76, 
	108, 69, 101, 65, 97, 82, 114, 62, 
	33, 47, 48, 57, 58, 64, 65, 90, 
	91, 96, 97, 122, 123, 126, 62, 33, 
	47, 48, 57, 58, 64, 65, 90, 91, 
	96, 97, 122, 123, 126, 62, 33, 47, 
	58, 64, 91, 96, 123, 126, 77, 109, 
	62, 79, 111, 87, 119, 73, 105, 75, 
	107, 73, 105, 62, 82, 114, 69, 101, 
	62, 80, 84, 112, 116, 65, 97, 78, 
	110, 32, 61, 62, 95, 126, 9, 13, 
	34, 59, 64, 90, 97, 122, 82, 114, 
	79, 111, 78, 110, 71, 103, 62, 84, 
	116, 62, 82, 114, 69, 101, 32, 62, 
	108, 97, 110, 103, 61, 34, 65, 90, 
	97, 122, 34, 65, 90, 97, 122, 62, 
	47, 47, 45, 61, 95, 126, 35, 40, 
	42, 43, 47, 57, 64, 90, 97, 122, 
	33, 41, 44, 46, 61, 63, 95, 126, 
	35, 57, 58, 59, 64, 90, 97, 122, 
	95, 45, 46, 48, 57, 65, 90, 97, 
	122, 64, 95, 45, 46, 48, 57, 65, 
	90, 97, 122, 48, 57, 65, 90, 97, 
	122, 46, 48, 57, 65, 90, 97, 122, 
	48, 57, 65, 90, 97, 122, 46, 48, 
	57, 65, 90, 97, 122, 10, 13, 32, 
	33, 34, 35, 38, 39, 42, 43, 45, 
	46, 47, 60, 61, 62, 64, 70, 72, 
	77, 83, 91, 92, 93, 94, 95, 96, 
	102, 104, 109, 115, 123, 124, 125, 126, 
	127, -62, -33, -32, -17, -16, -12, 1, 
	31, 36, 37, 40, 44, 48, 57, 58, 
	63, 65, 122, 10, 32, 33, 44, 46, 
	63, 40, 41, 58, 59, 43, 45, 47, 
	64, 92, 126, 36, 37, 94, 95, 35, 
	97, 113, 65, 90, 98, 122, 39, 39, 
	39, 39, 43, 45, 47, 64, 92, 94, 
	95, 126, 36, 37, 46, 57, 65, 90, 
	97, 122, 43, 45, 47, 64, 92, 94, 
	95, 126, 36, 37, 46, 57, 65, 90, 
	97, 122, 43, 45, 47, 64, 92, 94, 
	95, 126, 36, 37, 46, 57, 65, 90, 
	97, 122, 43, 45, 47, 64, 92, 94, 
	95, 126, 36, 37, 46, 57, 65, 90, 
	97, 122, 43, 45, 47, 64, 92, 94, 
	95, 126, 36, 37, 46, 57, 65, 90, 
	97, 122, 43, 45, 47, 64, 92, 94, 
	95, 126, 36, 37, 46, 57, 65, 90, 
	97, 122, 43, 45, 47, 64, 92, 94, 
	95, 126, 36, 37, 46, 57, 65, 90, 
	97, 122, 43, 45, 47, 64, 92, 94, 
	95, 126, 36, 37, 46, 57, 65, 90, 
	97, 122, 43, 45, 47, 64, 92, 94, 
	95, 126, 36, 37, 46, 57, 65, 90, 
	97, 122, 43, 45, 47, 64, 92, 94, 
	95, 126, 36, 37, 46, 57, 65, 90, 
	97, 122, 43, 45, 47, 64, 92, 94, 
	95, 126, 36, 37, 46, 57, 65, 90, 
	97, 122, 43, 45, 47, 64, 92, 94, 
	95, 126, 36, 37, 46, 57, 65, 90, 
	97, 122, 43, 45, 47, 64, 92, 94, 
	95, 126, 36, 37, 46, 57, 65, 90, 
	97, 122, 43, 45, 47, 64, 92, 94, 
	95, 126, 36, 37, 46, 57, 65, 90, 
	97, 122, 43, 45, 47, 64, 92, 94, 
	95, 126, 36, 37, 46, 57, 65, 90, 
	97, 122, 43, 45, 47, 64, 92, 94, 
	95, 126, 36, 37, 46, 57, 65, 90, 
	97, 122, 43, 45, 47, 64, 92, 94, 
	95, 126, 36, 37, 46, 57, 65, 90, 
	97, 122, 43, 45, 47, 64, 92, 94, 
	95, 126, 36, 37, 46, 57, 65, 90, 
	97, 122, 43, 45, 47, 64, 92, 94, 
	95, 126, 36, 37, 46, 57, 65, 90, 
	97, 122, 43, 45, 47, 64, 92, 94, 
	95, 126, 36, 37, 46, 57, 65, 90, 
	97, 122, 43, 45, 47, 64, 92, 94, 
	95, 126, 36, 37, 46, 57, 65, 90, 
	97, 122, 43, 45, 47, 64, 92, 94, 
	95, 126, 36, 37, 46, 57, 65, 90, 
	97, 122, 43, 45, 47, 64, 92, 94, 
	95, 126, 36, 37, 46, 57, 65, 90, 
	97, 122, 43, 45, 47, 64, 92, 94, 
	95, 126, 36, 37, 46, 57, 65, 90, 
	97, 122, 43, 45, 47, 64, 92, 94, 
	95, 126, 36, 37, 46, 57, 65, 90, 
	97, 122, 46, 48, 57, 65, 90, 97, 
	122, 46, 48, 57, 65, 90, 97, 122, 
	46, 48, 57, 65, 90, 97, 122, 46, 
	48, 57, 65, 90, 97, 122, 43, 45, 
	47, 64, 92, 126, 36, 37, 48, 57, 
	65, 90, 94, 95, 97, 122, 33, 44, 
	45, 46, 63, 64, 95, 40, 41, 48, 
	57, 58, 59, 65, 90, 97, 122, 43, 
	45, 47, 64, 92, 94, 95, 126, 36, 
	37, 46, 57, 65, 90, 97, 122, 43, 
	45, 47, 64, 92, 94, 95, 126, 36, 
	37, 46, 57, 65, 90, 97, 122, 47, 
	95, 45, 57, 65, 90, 97, 122, 95, 
	45, 46, 48, 57, 65, 90, 97, 122, 
	64, 95, 45, 46, 48, 57, 65, 90, 
	97, 122, 47, 66, 69, 78, 80, 83, 
	84, 98, 101, 110, 112, 115, 116, 62, 
	33, 47, 58, 64, 91, 96, 123, 126, 
	62, 33, 47, 58, 64, 91, 96, 123, 
	126, 62, 33, 47, 48, 57, 58, 64, 
	65, 90, 91, 96, 97, 122, 123, 126, 
	32, 61, 32, 32, 64, 84, 95, 116, 
	45, 46, 48, 57, 65, 90, 97, 122, 
	64, 80, 95, 112, 45, 46, 48, 57, 
	65, 90, 97, 122, 58, 64, 95, 45, 
	46, 48, 57, 65, 90, 97, 122, 33, 
	41, 44, 46, 61, 63, 95, 126, 35, 
	57, 58, 59, 64, 90, 97, 122, 64, 
	84, 95, 116, 45, 46, 48, 57, 65, 
	90, 97, 122, 64, 84, 95, 116, 45, 
	46, 48, 57, 65, 90, 97, 122, 64, 
	80, 95, 112, 45, 46, 48, 57, 65, 
	90, 97, 122, 58, 64, 83, 95, 115, 
	45, 46, 48, 57, 65, 90, 97, 122, 
	64, 65, 95, 97, 45, 46, 48, 57, 
	66, 90, 98, 122, 64, 73, 95, 105, 
	45, 46, 48, 57, 65, 90, 97, 122, 
	64, 76, 95, 108, 45, 46, 48, 57, 
	65, 90, 97, 122, 64, 84, 95, 116, 
	45, 46, 48, 57, 65, 90, 97, 122, 
	64, 79, 95, 111, 45, 46, 48, 57, 
	65, 90, 97, 122, 58, 64, 95, 45, 
	46, 48, 57, 65, 90, 97, 122, 46, 
	48, 57, 65, 90, 97, 122, 46, 48, 
	57, 65, 90, 97, 122, 46, 48, 57, 
	65, 90, 97, 122, 46, 48, 57, 65, 
	90, 97, 122, 64, 86, 95, 118, 45, 
	46, 48, 57, 65, 90, 97, 122, 64, 
	78, 95, 110, 45, 46, 48, 57, 65, 
	90, 97, 122, 91, 93, 123, 125, 0
};

static const char _wikitext_single_lengths[] = {
	0, 0, 0, 0, 0, 0, 0, 2, 
	1, 0, 1, 1, 1, 2, 2, 1, 
	2, 2, 2, 1, 2, 0, 1, 0, 
	1, 12, 2, 2, 2, 2, 2, 2, 
	2, 2, 2, 1, 2, 1, 2, 2, 
	2, 2, 2, 1, 2, 2, 1, 4, 
	2, 2, 1, 2, 2, 2, 2, 1, 
	2, 1, 4, 2, 2, 2, 2, 2, 
	2, 2, 2, 1, 2, 2, 1, 4, 
	2, 2, 2, 2, 1, 1, 1, 2, 
	1, 2, 2, 2, 2, 2, 1, 2, 
	2, 1, 4, 2, 2, 5, 2, 2, 
	2, 2, 1, 2, 1, 2, 2, 2, 
	1, 1, 1, 1, 1, 1, 0, 1, 
	1, 1, 1, 4, 8, 1, 2, 0, 
	1, 0, 1, 36, 1, 1, 4, 6, 
	3, 1, 1, 1, 1, 8, 8, 8, 
	8, 8, 8, 8, 8, 8, 8, 8, 
	8, 8, 8, 8, 8, 8, 8, 8, 
	8, 8, 8, 8, 8, 8, 1, 1, 
	1, 1, 6, 7, 8, 8, 2, 1, 
	2, 13, 1, 1, 1, 2, 1, 1, 
	4, 4, 3, 8, 4, 4, 4, 5, 
	4, 4, 4, 4, 4, 3, 1, 1, 
	1, 1, 4, 4, 1, 1, 1, 1
};

static const char _wikitext_range_lengths[] = {
	0, 1, 1, 1, 1, 1, 1, 1, 
	1, 3, 3, 3, 1, 3, 3, 3, 
	3, 3, 3, 3, 4, 3, 3, 3, 
	3, 0, 0, 0, 0, 0, 0, 0, 
	0, 0, 0, 0, 0, 0, 0, 0, 
	0, 0, 0, 0, 0, 0, 0, 0, 
	0, 0, 0, 0, 0, 0, 0, 0, 
	0, 0, 0, 0, 0, 0, 0, 0, 
	0, 0, 0, 0, 5, 5, 4, 5, 
	0, 0, 0, 0, 7, 7, 4, 0, 
	0, 0, 0, 0, 0, 0, 0, 0, 
	0, 0, 0, 0, 0, 4, 0, 0, 
	0, 0, 0, 0, 0, 0, 0, 0, 
	0, 0, 0, 0, 0, 0, 2, 2, 
	0, 0, 0, 5, 4, 4, 4, 3, 
	3, 3, 3, 9, 0, 0, 2, 2, 
	2, 0, 0, 0, 0, 4, 4, 4, 
	4, 4, 4, 4, 4, 4, 4, 4, 
	4, 4, 4, 4, 4, 4, 4, 4, 
	4, 4, 4, 4, 4, 4, 3, 3, 
	3, 3, 5, 5, 4, 4, 3, 4, 
	4, 0, 4, 4, 7, 0, 0, 0, 
	4, 4, 4, 4, 4, 4, 4, 4, 
	4, 4, 4, 4, 4, 4, 3, 3, 
	3, 3, 4, 4, 0, 0, 0, 0
};

static const short _wikitext_index_offsets[] = {
	0, 0, 2, 4, 6, 8, 10, 12, 
	16, 19, 23, 28, 33, 36, 42, 48, 
	53, 59, 65, 71, 76, 83, 87, 92, 
	96, 101, 114, 117, 120, 123, 126, 129, 
	132, 135, 138, 141, 143, 146, 148, 151, 
	154, 157, 160, 163, 165, 168, 171, 173, 
	178, 181, 184, 186, 189, 192, 195, 198, 
	200, 203, 205, 210, 213, 216, 219, 222, 
	225, 228, 231, 234, 236, 244, 252, 258, 
	268, 271, 274, 277, 280, 289, 298, 304, 
	307, 309, 312, 315, 318, 321, 324, 326, 
	329, 332, 334, 339, 342, 345, 355, 358, 
	361, 364, 367, 369, 372, 374, 377, 380, 
	383, 385, 387, 389, 391, 393, 395, 398, 
	402, 404, 406, 408, 418, 431, 437, 444, 
	448, 453, 457, 462, 508, 510, 512, 519, 
	528, 534, 536, 538, 540, 542, 555, 568, 
	581, 594, 607, 620, 633, 646, 659, 672, 
	685, 698, 711, 724, 737, 750, 763, 776, 
	789, 802, 815, 828, 841, 854, 867, 872, 
	877, 882, 887, 899, 912, 925, 938, 944, 
	950, 957, 971, 977, 983, 992, 995, 997, 
	999, 1008, 1017, 1025, 1038, 1047, 1056, 1065, 
	1075, 1084, 1093, 1102, 1111, 1120, 1128, 1133, 
	1138, 1143, 1148, 1157, 1166, 1168, 1170, 1172
};

static const unsigned char _wikitext_trans_targs[] = {
	123, 0, 3, 0, 123, 0, 5, 0, 
	6, 0, 123, 0, 9, 9, 8, 123, 
	123, 8, 123, 10, 10, 10, 123, 123, 
	10, 10, 10, 123, 123, 12, 11, 11, 
	123, 123, 12, 123, 123, 14, 12, 11, 
	11, 123, 123, 15, 12, 11, 11, 123, 
	123, 12, 11, 11, 123, 123, 17, 12, 
	11, 11, 123, 123, 18, 12, 11, 11, 
	123, 123, 19, 12, 11, 11, 123, 123, 
	12, 11, 11, 123, 21, 20, 20, 20, 
	20, 20, 123, 22, 22, 22, 123, 23, 
	22, 22, 22, 123, 22, 24, 24, 123, 
	23, 22, 158, 158, 123, 26, 36, 38, 
	44, 47, 56, 26, 36, 38, 44, 47, 
	56, 123, 27, 27, 123, 28, 28, 123, 
	29, 29, 123, 30, 30, 123, 31, 31, 
	123, 32, 32, 123, 33, 33, 123, 34, 
	34, 123, 35, 35, 123, 123, 123, 37, 
	37, 123, 123, 123, 39, 39, 123, 40, 
	40, 123, 41, 41, 123, 42, 42, 123, 
	43, 43, 123, 123, 123, 45, 45, 123, 
	46, 46, 123, 123, 123, 48, 51, 48, 
	51, 123, 49, 49, 123, 50, 50, 123, 
	123, 123, 52, 52, 123, 53, 53, 123, 
	54, 54, 123, 55, 55, 123, 123, 123, 
	57, 57, 123, 123, 123, 59, 68, 59, 
	68, 123, 60, 60, 123, 61, 61, 123, 
	62, 62, 123, 63, 63, 123, 64, 64, 
	123, 65, 65, 123, 66, 66, 123, 67, 
	67, 123, 123, 123, 71, 170, 69, 70, 
	70, 70, 70, 123, 69, 170, 69, 70, 
	70, 70, 70, 123, 170, 70, 70, 70, 
	70, 123, 69, 170, 72, 72, 69, 70, 
	70, 70, 70, 123, 73, 73, 123, 74, 
	74, 123, 75, 75, 123, 76, 76, 123, 
	172, 76, 77, 76, 77, 76, 77, 76, 
	123, 171, 78, 77, 78, 77, 78, 77, 
	78, 123, 171, 78, 78, 78, 78, 123, 
	80, 80, 123, 123, 123, 82, 82, 123, 
	83, 83, 123, 84, 84, 123, 85, 85, 
	123, 86, 86, 123, 123, 123, 88, 88, 
	123, 89, 89, 123, 123, 123, 91, 94, 
	91, 94, 123, 92, 92, 123, 93, 93, 
	123, 93, 93, 123, 93, 93, 93, 93, 
	93, 93, 123, 95, 95, 123, 96, 96, 
	123, 97, 97, 123, 98, 98, 123, 123, 
	123, 100, 100, 123, 123, 123, 88, 102, 
	123, 89, 103, 123, 104, 123, 123, 105, 
	123, 106, 123, 107, 123, 108, 123, 109, 
	123, 110, 123, 111, 111, 123, 112, 111, 
	111, 123, 123, 123, 114, 123, 115, 123, 
	179, 179, 179, 179, 179, 179, 179, 179, 
	179, 123, 116, 116, 116, 116, 179, 116, 
	179, 179, 179, 116, 179, 179, 123, 118, 
	118, 118, 118, 118, 123, 119, 118, 118, 
	118, 118, 118, 123, 120, 120, 120, 123, 
	121, 120, 120, 120, 123, 120, 122, 122, 
	123, 121, 120, 190, 190, 123, 123, 124, 
	125, 126, 123, 123, 128, 129, 123, 127, 
	133, 163, 164, 169, 173, 175, 127, 176, 
	180, 184, 194, 196, 127, 197, 127, 157, 
	123, 176, 180, 184, 194, 198, 123, 199, 
	127, 123, 1, 2, 4, 123, 127, 126, 
	168, 126, 168, 0, 123, 123, 125, 123, 
	126, 126, 126, 126, 126, 126, 123, 127, 
	127, 127, 127, 127, 127, 127, 127, 123, 
	7, 13, 16, 11, 11, 123, 130, 123, 
	131, 123, 132, 123, 123, 123, 127, 134, 
	127, 162, 127, 127, 157, 127, 127, 20, 
	20, 20, 123, 127, 135, 127, 162, 127, 
	127, 157, 127, 127, 20, 20, 20, 123, 
	127, 136, 127, 162, 127, 127, 157, 127, 
	127, 20, 20, 20, 123, 127, 137, 127, 
	162, 127, 127, 157, 127, 127, 20, 20, 
	20, 123, 127, 138, 127, 162, 127, 127, 
	157, 127, 127, 20, 20, 20, 123, 127, 
	139, 127, 162, 127, 127, 157, 127, 127, 
	20, 20, 20, 123, 127, 140, 127, 162, 
	127, 127, 157, 127, 127, 20, 20, 20, 
	123, 127, 141, 127, 162, 127, 127, 157, 
	127, 127, 20, 20, 20, 123, 127, 142, 
	127, 162, 127, 127, 157, 127, 127, 20, 
	20, 20, 123, 127, 143, 127, 162, 127, 
	127, 157, 127, 127, 20, 20, 20, 123, 
	127, 144, 127, 162, 127, 127, 157, 127, 
	127, 20, 20, 20, 123, 127, 145, 127, 
	162, 127, 127, 157, 127, 127, 20, 20, 
	20, 123, 127, 146, 127, 162, 127, 127, 
	157, 127, 127, 20, 20, 20, 123, 127, 
	147, 127, 162, 127, 127, 157, 127, 127, 
	20, 20, 20, 123, 127, 148, 127, 162, 
	127, 127, 157, 127, 127, 20, 20, 20, 
	123, 127, 149, 127, 162, 127, 127, 157, 
	127, 127, 20, 20, 20, 123, 127, 150, 
	127, 162, 127, 127, 157, 127, 127, 20, 
	20, 20, 123, 127, 151, 127, 162, 127, 
	127, 157, 127, 127, 20, 20, 20, 123, 
	127, 152, 127, 162, 127, 127, 157, 127, 
	127, 20, 20, 20, 123, 127, 153, 127, 
	162, 127, 127, 157, 127, 127, 20, 20, 
	20, 123, 127, 154, 127, 162, 127, 127, 
	157, 127, 127, 20, 20, 20, 123, 127, 
	155, 127, 162, 127, 127, 157, 127, 127, 
	20, 20, 20, 123, 127, 156, 127, 162, 
	127, 127, 157, 127, 127, 20, 20, 20, 
	123, 127, 157, 127, 162, 127, 127, 157, 
	127, 127, 20, 20, 20, 123, 127, 157, 
	127, 162, 127, 127, 157, 127, 127, 20, 
	20, 20, 123, 23, 22, 159, 159, 123, 
	23, 22, 160, 160, 123, 23, 22, 161, 
	161, 123, 23, 22, 22, 22, 123, 127, 
	127, 127, 127, 127, 127, 127, 22, 22, 
	127, 22, 123, 126, 126, 20, 163, 126, 
	21, 20, 126, 20, 126, 20, 20, 123, 
	127, 165, 127, 127, 127, 127, 165, 127, 
	127, 166, 166, 166, 123, 127, 165, 164, 
	127, 127, 127, 165, 127, 127, 166, 166, 
	166, 123, 167, 166, 166, 166, 166, 123, 
	166, 166, 166, 166, 166, 123, 21, 20, 
	20, 168, 168, 168, 123, 25, 58, 79, 
	81, 87, 90, 99, 58, 79, 81, 101, 
	90, 99, 123, 170, 70, 70, 70, 70, 
	123, 171, 78, 78, 78, 78, 123, 172, 
	76, 77, 76, 77, 76, 77, 76, 123, 
	174, 173, 123, 174, 123, 123, 123, 21, 
	177, 20, 177, 20, 168, 168, 168, 123, 
	21, 178, 20, 178, 20, 168, 168, 168, 
	123, 113, 21, 20, 20, 168, 168, 168, 
	123, 116, 116, 116, 116, 179, 116, 179, 
	179, 179, 116, 179, 179, 123, 21, 181, 
	20, 181, 20, 168, 168, 168, 123, 21, 
	182, 20, 182, 20, 168, 168, 168, 123, 
	21, 183, 20, 183, 20, 168, 168, 168, 
	123, 113, 21, 178, 20, 178, 20, 168, 
	168, 168, 123, 21, 185, 20, 185, 20, 
	168, 168, 168, 123, 21, 186, 20, 186, 
	20, 168, 168, 168, 123, 21, 187, 20, 
	187, 20, 168, 168, 168, 123, 21, 188, 
	20, 188, 20, 168, 168, 168, 123, 21, 
	189, 20, 189, 20, 168, 168, 168, 123, 
	117, 21, 20, 20, 168, 168, 168, 123, 
	121, 120, 191, 191, 123, 121, 120, 192, 
	192, 123, 121, 120, 193, 193, 123, 121, 
	120, 120, 120, 123, 21, 195, 20, 195, 
	20, 168, 168, 168, 123, 21, 178, 20, 
	178, 20, 168, 168, 168, 123, 123, 123, 
	123, 123, 123, 123, 123, 123, 123, 123, 
	123, 123, 123, 123, 123, 123, 123, 123, 
	123, 123, 123, 123, 123, 123, 123, 123, 
	123, 123, 123, 123, 123, 123, 123, 123, 
	123, 123, 123, 123, 123, 123, 123, 123, 
	123, 123, 123, 123, 123, 123, 123, 123, 
	123, 123, 123, 123, 123, 123, 123, 123, 
	123, 123, 123, 123, 123, 123, 123, 123, 
	123, 123, 123, 123, 123, 123, 123, 123, 
	123, 123, 123, 123, 123, 123, 123, 123, 
	123, 123, 123, 123, 123, 123, 123, 123, 
	123, 123, 123, 123, 123, 123, 123, 123, 
	123, 123, 123, 123, 123, 123, 123, 123, 
	123, 123, 123, 123, 123, 123, 123, 123, 
	123, 123, 123, 123, 123, 123, 123, 123, 
	123, 123, 123, 123, 123, 123, 123, 123, 
	123, 123, 123, 123, 123, 123, 123, 123, 
	123, 123, 123, 123, 123, 123, 123, 123, 
	123, 123, 123, 123, 123, 123, 123, 123, 
	123, 123, 123, 123, 123, 123, 123, 123, 
	123, 123, 123, 123, 123, 123, 123, 123, 
	123, 123, 123, 123, 123, 123, 123, 123, 
	123, 123, 123, 123, 123, 123, 123, 123, 
	123, 123, 123, 123, 123, 123, 123, 123, 
	123, 123, 123, 123, 123, 123, 0
};

static const unsigned char _wikitext_trans_actions[] = {
	128, 0, 0, 0, 131, 0, 0, 0, 
	0, 0, 134, 0, 0, 0, 0, 117, 
	65, 0, 117, 0, 0, 0, 117, 63, 
	0, 0, 0, 117, 61, 0, 0, 0, 
	117, 61, 0, 117, 61, 0, 0, 0, 
	0, 117, 61, 0, 0, 0, 0, 117, 
	59, 0, 0, 0, 117, 61, 0, 0, 
	0, 0, 117, 61, 0, 0, 0, 0, 
	117, 61, 0, 0, 0, 0, 117, 57, 
	0, 0, 0, 117, 0, 0, 0, 0, 
	0, 0, 123, 0, 0, 0, 123, 0, 
	0, 0, 0, 123, 0, 0, 0, 123, 
	0, 0, 149, 149, 123, 0, 0, 0, 
	0, 0, 0, 0, 0, 0, 0, 0, 
	0, 119, 0, 0, 119, 0, 0, 119, 
	0, 0, 119, 0, 0, 119, 0, 0, 
	119, 0, 0, 119, 0, 0, 119, 0, 
	0, 119, 0, 0, 119, 23, 119, 0, 
	0, 119, 33, 119, 0, 0, 119, 0, 
	0, 119, 0, 0, 119, 0, 0, 119, 
	0, 0, 119, 13, 119, 0, 0, 119, 
	0, 0, 119, 19, 119, 0, 0, 0, 
	0, 119, 0, 0, 119, 0, 0, 119, 
	49, 119, 0, 0, 119, 0, 0, 119, 
	0, 0, 119, 0, 0, 119, 29, 119, 
	0, 0, 119, 39, 119, 0, 0, 0, 
	0, 119, 0, 0, 119, 0, 0, 119, 
	0, 0, 119, 0, 0, 119, 0, 0, 
	119, 0, 0, 119, 0, 0, 119, 0, 
	0, 119, 21, 119, 0, 143, 0, 0, 
	0, 0, 0, 119, 0, 143, 0, 0, 
	0, 0, 0, 119, 143, 0, 0, 0, 
	0, 123, 0, 143, 0, 0, 0, 0, 
	0, 0, 0, 119, 0, 0, 119, 0, 
	0, 119, 0, 0, 119, 0, 0, 119, 
	140, 0, 0, 0, 0, 0, 0, 0, 
	123, 140, 0, 0, 0, 0, 0, 0, 
	0, 123, 140, 0, 0, 0, 0, 123, 
	0, 0, 119, 31, 119, 0, 0, 119, 
	0, 0, 119, 0, 0, 119, 0, 0, 
	119, 0, 0, 119, 11, 119, 0, 0, 
	119, 0, 0, 119, 15, 119, 0, 0, 
	0, 0, 119, 0, 0, 119, 0, 0, 
	119, 0, 0, 47, 0, 0, 0, 0, 
	0, 0, 119, 0, 0, 119, 0, 0, 
	119, 0, 0, 119, 0, 0, 119, 27, 
	119, 0, 0, 119, 37, 119, 0, 0, 
	119, 0, 0, 119, 0, 15, 119, 0, 
	119, 0, 119, 0, 119, 0, 119, 0, 
	119, 0, 119, 0, 0, 119, 0, 0, 
	0, 119, 17, 119, 0, 121, 0, 121, 
	9, 9, 9, 9, 9, 9, 9, 9, 
	9, 121, 0, 0, 0, 0, 9, 0, 
	9, 9, 9, 0, 9, 9, 115, 0, 
	0, 0, 0, 0, 121, 0, 0, 0, 
	0, 0, 0, 121, 0, 0, 0, 121, 
	0, 0, 0, 0, 123, 0, 0, 0, 
	123, 0, 0, 146, 146, 123, 164, 3, 
	1, 0, 67, 43, 9, 0, 45, 0, 
	161, 155, 0, 152, 1, 1, 0, 158, 
	158, 158, 158, 0, 0, 0, 0, 161, 
	35, 158, 158, 158, 158, 0, 55, 0, 
	0, 125, 0, 0, 0, 125, 0, 0, 
	158, 0, 158, 0, 73, 107, 0, 79, 
	0, 0, 0, 0, 0, 0, 109, 0, 
	0, 0, 0, 0, 0, 0, 0, 113, 
	0, 0, 0, 0, 0, 99, 0, 75, 
	0, 75, 0, 75, 25, 75, 0, 161, 
	0, 161, 0, 0, 161, 0, 0, 0, 
	0, 0, 113, 0, 161, 0, 161, 0, 
	0, 161, 0, 0, 0, 0, 0, 113, 
	0, 137, 0, 161, 0, 0, 161, 0, 
	0, 0, 0, 0, 113, 0, 137, 0, 
	161, 0, 0, 161, 0, 0, 0, 0, 
	0, 81, 0, 137, 0, 161, 0, 0, 
	161, 0, 0, 0, 0, 0, 81, 0, 
	137, 0, 161, 0, 0, 161, 0, 0, 
	0, 0, 0, 81, 0, 137, 0, 161, 
	0, 0, 161, 0, 0, 0, 0, 0, 
	81, 0, 137, 0, 161, 0, 0, 161, 
	0, 0, 0, 0, 0, 81, 0, 137, 
	0, 161, 0, 0, 161, 0, 0, 0, 
	0, 0, 81, 0, 137, 0, 161, 0, 
	0, 161, 0, 0, 0, 0, 0, 81, 
	0, 137, 0, 161, 0, 0, 161, 0, 
	0, 0, 0, 0, 81, 0, 137, 0, 
	161, 0, 0, 161, 0, 0, 0, 0, 
	0, 81, 0, 137, 0, 161, 0, 0, 
	161, 0, 0, 0, 0, 0, 81, 0, 
	137, 0, 161, 0, 0, 161, 0, 0, 
	0, 0, 0, 81, 0, 137, 0, 161, 
	0, 0, 161, 0, 0, 0, 0, 0, 
	81, 0, 137, 0, 161, 0, 0, 161, 
	0, 0, 0, 0, 0, 81, 0, 137, 
	0, 161, 0, 0, 161, 0, 0, 0, 
	0, 0, 81, 0, 137, 0, 161, 0, 
	0, 161, 0, 0, 0, 0, 0, 81, 
	0, 137, 0, 161, 0, 0, 161, 0, 
	0, 0, 0, 0, 81, 0, 137, 0, 
	161, 0, 0, 161, 0, 0, 0, 0, 
	0, 81, 0, 137, 0, 161, 0, 0, 
	161, 0, 0, 0, 0, 0, 81, 0, 
	137, 0, 161, 0, 0, 161, 0, 0, 
	0, 0, 0, 81, 0, 137, 0, 161, 
	0, 0, 161, 0, 0, 0, 0, 0, 
	81, 0, 137, 0, 161, 0, 0, 161, 
	0, 0, 0, 0, 0, 81, 0, 161, 
	0, 161, 0, 0, 161, 0, 0, 0, 
	0, 0, 123, 0, 0, 149, 149, 91, 
	0, 0, 149, 149, 91, 0, 0, 149, 
	149, 91, 0, 0, 0, 0, 91, 0, 
	0, 0, 0, 0, 0, 0, 0, 0, 
	0, 0, 113, 0, 0, 0, 155, 0, 
	0, 0, 0, 0, 0, 0, 0, 109, 
	0, 0, 0, 0, 0, 0, 0, 0, 
	0, 0, 0, 0, 93, 0, 0, 0, 
	0, 0, 0, 0, 0, 0, 0, 0, 
	0, 93, 0, 0, 0, 0, 0, 93, 
	0, 0, 0, 0, 0, 93, 0, 0, 
	0, 158, 158, 158, 111, 0, 0, 0, 
	0, 0, 0, 0, 0, 0, 0, 0, 
	0, 0, 101, 143, 0, 0, 0, 0, 
	85, 140, 0, 0, 0, 0, 83, 140, 
	0, 0, 0, 0, 0, 0, 0, 83, 
	0, 1, 87, 0, 87, 41, 77, 0, 
	158, 0, 158, 0, 158, 158, 158, 111, 
	0, 158, 0, 158, 0, 158, 158, 158, 
	111, 0, 0, 0, 0, 158, 158, 158, 
	111, 0, 0, 0, 0, 9, 0, 9, 
	9, 9, 0, 9, 9, 89, 0, 158, 
	0, 158, 0, 158, 158, 158, 111, 0, 
	158, 0, 158, 0, 158, 158, 158, 111, 
	0, 158, 0, 158, 0, 158, 158, 158, 
	111, 0, 0, 158, 0, 158, 0, 158, 
	158, 158, 111, 0, 158, 0, 158, 0, 
	158, 158, 158, 111, 0, 158, 0, 158, 
	0, 158, 158, 158, 111, 0, 158, 0, 
	158, 0, 158, 158, 158, 111, 0, 158, 
	0, 158, 0, 158, 158, 158, 111, 0, 
	158, 0, 158, 0, 158, 158, 158, 111, 
	0, 0, 0, 0, 158, 158, 158, 111, 
	0, 0, 146, 146, 89, 0, 0, 146, 
	146, 89, 0, 0, 146, 146, 89, 0, 
	0, 0, 0, 89, 0, 158, 0, 158, 
	0, 158, 158, 158, 111, 0, 158, 0, 
	158, 0, 158, 158, 158, 111, 51, 95, 
	53, 97, 69, 103, 71, 105, 117, 117, 
	117, 117, 117, 117, 117, 117, 117, 117, 
	117, 117, 117, 123, 123, 123, 123, 123, 
	119, 119, 119, 119, 119, 119, 119, 119, 
	119, 119, 119, 119, 119, 119, 119, 119, 
	119, 119, 119, 119, 119, 119, 119, 119, 
	119, 119, 119, 119, 119, 119, 119, 119, 
	119, 119, 119, 119, 119, 119, 119, 119, 
	119, 119, 119, 119, 119, 123, 119, 119, 
	119, 119, 119, 123, 123, 123, 119, 119, 
	119, 119, 119, 119, 119, 119, 119, 119, 
	119, 119, 119, 119, 119, 119, 119, 119, 
	119, 119, 119, 119, 119, 119, 119, 119, 
	119, 119, 119, 119, 119, 119, 119, 119, 
	121, 121, 121, 115, 121, 121, 121, 123, 
	123, 123, 107, 79, 109, 113, 99, 75, 
	75, 75, 75, 113, 113, 113, 81, 81, 
	81, 81, 81, 81, 81, 81, 81, 81, 
	81, 81, 81, 81, 81, 81, 81, 81, 
	81, 81, 81, 123, 91, 91, 91, 91, 
	113, 109, 93, 93, 93, 93, 111, 101, 
	85, 83, 83, 87, 87, 77, 111, 111, 
	111, 89, 111, 111, 111, 111, 111, 111, 
	111, 111, 111, 111, 89, 89, 89, 89, 
	111, 111, 95, 97, 103, 105, 0
};

static const unsigned char _wikitext_to_state_actions[] = {
	0, 0, 0, 0, 0, 0, 0, 0, 
	0, 0, 0, 0, 0, 0, 0, 0, 
	0, 0, 0, 0, 0, 0, 0, 0, 
	0, 0, 0, 0, 0, 0, 0, 0, 
	0, 0, 0, 0, 0, 0, 0, 0, 
	0, 0, 0, 0, 0, 0, 0, 0, 
	0, 0, 0, 0, 0, 0, 0, 0, 
	0, 0, 0, 0, 0, 0, 0, 0, 
	0, 0, 0, 0, 0, 0, 0, 0, 
	0, 0, 0, 0, 0, 0, 0, 0, 
	0, 0, 0, 0, 0, 0, 0, 0, 
	0, 0, 0, 0, 0, 0, 0, 0, 
	0, 0, 0, 0, 0, 0, 0, 0, 
	0, 0, 0, 0, 0, 0, 0, 0, 
	0, 0, 0, 0, 0, 0, 0, 0, 
	0, 0, 0, 5, 0, 0, 0, 0, 
	0, 0, 0, 0, 0, 0, 0, 0, 
	0, 0, 0, 0, 0, 0, 0, 0, 
	0, 0, 0, 0, 0, 0, 0, 0, 
	0, 0, 0, 0, 0, 0, 0, 0, 
	0, 0, 0, 0, 0, 0, 0, 0, 
	0, 0, 0, 0, 0, 0, 0, 0, 
	0, 0, 0, 0, 0, 0, 0, 0, 
	0, 0, 0, 0, 0, 0, 0, 0, 
	0, 0, 0, 0, 0, 0, 0, 0
};

static const unsigned char _wikitext_from_state_actions[] = {
	0, 0, 0, 0, 0, 0, 0, 0, 
	0, 0, 0, 0, 0, 0, 0, 0, 
	0, 0, 0, 0, 0, 0, 0, 0, 
	0, 0, 0, 0, 0, 0, 0, 0, 
	0, 0, 0, 0, 0, 0, 0, 0, 
	0, 0, 0, 0, 0, 0, 0, 0, 
	0, 0, 0, 0, 0, 0, 0, 0, 
	0, 0, 0, 0, 0, 0, 0, 0, 
	0, 0, 0, 0, 0, 0, 0, 0, 
	0, 0, 0, 0, 0, 0, 0, 0, 
	0, 0, 0, 0, 0, 0, 0, 0, 
	0, 0, 0, 0, 0, 0, 0, 0, 
	0, 0, 0, 0, 0, 0, 0, 0, 
	0, 0, 0, 0, 0, 0, 0, 0, 
	0, 0, 0, 0, 0, 0, 0, 0, 
	0, 0, 0, 7, 0, 0, 0, 0, 
	0, 0, 0, 0, 0, 0, 0, 0, 
	0, 0, 0, 0, 0, 0, 0, 0, 
	0, 0, 0, 0, 0, 0, 0, 0, 
	0, 0, 0, 0, 0, 0, 0, 0, 
	0, 0, 0, 0, 0, 0, 0, 0, 
	0, 0, 0, 0, 0, 0, 0, 0, 
	0, 0, 0, 0, 0, 0, 0, 0, 
	0, 0, 0, 0, 0, 0, 0, 0, 
	0, 0, 0, 0, 0, 0, 0, 0
};

static const short _wikitext_eof_trans[] = {
	0, 0, 0, 0, 0, 0, 0, 1187, 
	1187, 1187, 1187, 1187, 1187, 1187, 1187, 1187, 
	1187, 1187, 1187, 1187, 1324, 1324, 1324, 1324, 
	1324, 1280, 1280, 1280, 1280, 1280, 1280, 1280, 
	1280, 1280, 1280, 1280, 1280, 1280, 1280, 1280, 
	1280, 1280, 1280, 1280, 1280, 1280, 1280, 1280, 
	1280, 1280, 1280, 1280, 1280, 1280, 1280, 1280, 
	1280, 1280, 1280, 1280, 1280, 1280, 1280, 1280, 
	1280, 1280, 1280, 1280, 1280, 1280, 1324, 1280, 
	1280, 1280, 1280, 1280, 1324, 1324, 1324, 1280, 
	1280, 1280, 1280, 1280, 1280, 1280, 1280, 1280, 
	1280, 1280, 1280, 1280, 1280, 1280, 1280, 1280, 
	1280, 1280, 1280, 1280, 1280, 1280, 1280, 1280, 
	1280, 1280, 1280, 1280, 1280, 1280, 1280, 1280, 
	1280, 1287, 1287, 1287, 1284, 1287, 1287, 1287, 
	1324, 1324, 1324, 0, 1291, 1292, 1330, 1329, 
	1295, 1299, 1299, 1299, 1299, 1329, 1329, 1329, 
	1323, 1323, 1323, 1323, 1323, 1323, 1323, 1323, 
	1323, 1323, 1323, 1323, 1323, 1323, 1323, 1323, 
	1323, 1323, 1323, 1323, 1323, 1324, 1328, 1328, 
	1328, 1328, 1329, 1330, 1334, 1334, 1334, 1334, 
	1362, 1336, 1337, 1339, 1339, 1341, 1341, 1342, 
	1362, 1362, 1362, 1360, 1362, 1362, 1362, 1362, 
	1362, 1362, 1362, 1362, 1362, 1362, 1360, 1360, 
	1360, 1360, 1362, 1362, 1363, 1364, 1365, 1366
};

static const int wikitext_start = 123;
static const int wikitext_first_final = 123;
static const int wikitext_error = 0;

static const int wikitext_en_main = 123;


#line 514 "wikitext_ragel.rl"


// for now we use the scanner as a tokenizer that returns one token at a time, just like ANTLR
// ultimately we could look at embedding all of the transformation inside the scanner itself (combined scanner/parser)
// pass in the last token because that's useful for the scanner to know
// p data pointer (required by Ragel machine); overriden with contents of last_token if supplied
// pe data end pointer (required by Ragel machine)
void next_token(token_t *out, token_t *last_token, char *p, char *pe)
{
    int last_token_type = NO_TOKEN;
    if (last_token)
    {
        last_token_type     = last_token->type;
        p = last_token->stop;
        out->line_start     = out->line_stop    = last_token->line_stop;
        out->column_start   = out->column_stop  = last_token->column_stop;
    }
    else
    {
        out->line_start     = 1;
        out->column_start   = 1;
        out->line_stop      = 1;
        out->column_stop    = 1;
    }
    out->type       = NO_TOKEN;
    out->code_point = 0;
    out->start      = p;
    if (p == pe)
    {
        // all done, have reached end of input
        out->stop  = p;
        out->type  = END_OF_FILE;
        return;
    }

    char    *mark;      // for manual backtracking
    char    *eof = pe;  // required for backtracking (longest match determination)
    int     cs;         // current state (standard Ragel)
    char    *ts;        // token start (scanner)
    char    *te;        // token end (scanner)
    int     act;        // identity of last patterned matched (scanner)
    
#line 836 "wikitext_ragel.c"
	{
	cs = wikitext_start;
	ts = 0;
	te = 0;
	act = 0;
	}

#line 556 "wikitext_ragel.rl"
    
#line 846 "wikitext_ragel.c"
	{
	int _klen;
	unsigned int _trans;
	const char *_acts;
	unsigned int _nacts;
	const char *_keys;

	if ( p == pe )
		goto _test_eof;
	if ( cs == 0 )
		goto _out;
_resume:
	_acts = _wikitext_actions + _wikitext_from_state_actions[cs];
	_nacts = (unsigned int) *_acts++;
	while ( _nacts-- > 0 ) {
		switch ( *_acts++ ) {
	case 6:
#line 1 "NONE"
	{ts = p;}
	break;
#line 867 "wikitext_ragel.c"
		}
	}

	_keys = _wikitext_trans_keys + _wikitext_key_offsets[cs];
	_trans = _wikitext_index_offsets[cs];

	_klen = _wikitext_single_lengths[cs];
	if ( _klen > 0 ) {
		const char *_lower = _keys;
		const char *_mid;
		const char *_upper = _keys + _klen - 1;
		while (1) {
			if ( _upper < _lower )
				break;

			_mid = _lower + ((_upper-_lower) >> 1);
			if ( (*p) < *_mid )
				_upper = _mid - 1;
			else if ( (*p) > *_mid )
				_lower = _mid + 1;
			else {
				_trans += (unsigned int)(_mid - _keys);
				goto _match;
			}
		}
		_keys += _klen;
		_trans += _klen;
	}

	_klen = _wikitext_range_lengths[cs];
	if ( _klen > 0 ) {
		const char *_lower = _keys;
		const char *_mid;
		const char *_upper = _keys + (_klen<<1) - 2;
		while (1) {
			if ( _upper < _lower )
				break;

			_mid = _lower + (((_upper-_lower) >> 1) & ~1);
			if ( (*p) < _mid[0] )
				_upper = _mid - 2;
			else if ( (*p) > _mid[1] )
				_lower = _mid + 2;
			else {
				_trans += (unsigned int)((_mid - _keys)>>1);
				goto _match;
			}
		}
		_trans += _klen;
	}

_match:
_eof_trans:
	cs = _wikitext_trans_targs[_trans];

	if ( _wikitext_trans_actions[_trans] == 0 )
		goto _again;

	_acts = _wikitext_actions + _wikitext_trans_actions[_trans];
	_nacts = (unsigned int) *_acts++;
	while ( _nacts-- > 0 )
	{
		switch ( *_acts++ )
		{
	case 0:
#line 45 "wikitext_ragel.rl"
	{
        MARK();
    }
	break;
	case 1:
#line 50 "wikitext_ragel.rl"
	{
        out->code_point = *p & 0x7f;
    }
	break;
	case 2:
#line 55 "wikitext_ragel.rl"
	{
        out->code_point = ((uint32_t)(*(p - 1)) & 0x1f) << 6 |
            (*p & 0x3f);
    }
	break;
	case 3:
#line 61 "wikitext_ragel.rl"
	{
        out->code_point = ((uint32_t)(*(p - 2)) & 0x0f) << 12 |
            ((uint32_t)(*(p - 1)) & 0x3f) << 6 |
            (*p & 0x3f);
    }
	break;
	case 4:
#line 68 "wikitext_ragel.rl"
	{
        out->code_point = ((uint32_t)(*(p - 3)) & 0x07) << 18 |
            ((uint32_t)(*(p - 2)) & 0x3f) << 12 |
            ((uint32_t)(*(p - 1)) & 0x3f) << 6 |
            (*p & 0x3f);
    }
	break;
	case 7:
#line 1 "NONE"
	{te = p+1;}
	break;
	case 8:
#line 245 "wikitext_ragel.rl"
	{act = 20;}
	break;
	case 9:
#line 251 "wikitext_ragel.rl"
	{act = 21;}
	break;
	case 10:
#line 257 "wikitext_ragel.rl"
	{act = 22;}
	break;
	case 11:
#line 328 "wikitext_ragel.rl"
	{act = 26;}
	break;
	case 12:
#line 334 "wikitext_ragel.rl"
	{act = 27;}
	break;
	case 13:
#line 418 "wikitext_ragel.rl"
	{act = 41;}
	break;
	case 14:
#line 467 "wikitext_ragel.rl"
	{act = 48;}
	break;
	case 15:
#line 473 "wikitext_ragel.rl"
	{act = 49;}
	break;
	case 16:
#line 485 "wikitext_ragel.rl"
	{act = 50;}
	break;
	case 17:
#line 91 "wikitext_ragel.rl"
	{te = p+1;{
            EMIT(NO_WIKI_START);
            {p++; goto _out; }
        }}
	break;
	case 18:
#line 97 "wikitext_ragel.rl"
	{te = p+1;{
            EMIT(NO_WIKI_END);
            {p++; goto _out; }
        }}
	break;
	case 19:
#line 103 "wikitext_ragel.rl"
	{te = p+1;{
            EMIT(PRE_START);
            {p++; goto _out; }
        }}
	break;
	case 20:
#line 109 "wikitext_ragel.rl"
	{te = p+1;{
            EMIT(PRE_START);
            {p++; goto _out; }
        }}
	break;
	case 21:
#line 115 "wikitext_ragel.rl"
	{te = p+1;{
            EMIT(PRE_END);
            {p++; goto _out; }
        }}
	break;
	case 22:
#line 121 "wikitext_ragel.rl"
	{te = p+1;{
            EMIT(BLOCKQUOTE_START);
            {p++; goto _out; }
        }}
	break;
	case 23:
#line 127 "wikitext_ragel.rl"
	{te = p+1;{
            EMIT(BLOCKQUOTE_END);
            {p++; goto _out; }
        }}
	break;
	case 24:
#line 133 "wikitext_ragel.rl"
	{te = p+1;{
            if (DISTANCE() == 5)
                EMIT(STRONG_EM);
            else if (DISTANCE() == 4)
            {
                p--;
                EMIT(STRONG_EM);
            }
            else if (DISTANCE() == 3)
                EMIT(STRONG);
            else if (DISTANCE() == 2)
                EMIT(EM);
            else
                EMIT(PRINTABLE);
            {p++; goto _out; }
        }}
	break;
	case 25:
#line 151 "wikitext_ragel.rl"
	{te = p+1;{
            EMIT(STRONG_START);
            {p++; goto _out; }
        }}
	break;
	case 26:
#line 157 "wikitext_ragel.rl"
	{te = p+1;{
            EMIT(STRONG_END);
            {p++; goto _out; }
        }}
	break;
	case 27:
#line 163 "wikitext_ragel.rl"
	{te = p+1;{
            EMIT(EM_START);
            {p++; goto _out; }
        }}
	break;
	case 28:
#line 169 "wikitext_ragel.rl"
	{te = p+1;{
            EMIT(EM_END);
            {p++; goto _out; }
        }}
	break;
	case 29:
#line 175 "wikitext_ragel.rl"
	{te = p+1;{
            EMIT(TT);
            {p++; goto _out; }
        }}
	break;
	case 30:
#line 181 "wikitext_ragel.rl"
	{te = p+1;{
            EMIT(TT_START);
            {p++; goto _out; }
        }}
	break;
	case 31:
#line 187 "wikitext_ragel.rl"
	{te = p+1;{
            EMIT(TT_END);
            {p++; goto _out; }
        }}
	break;
	case 32:
#line 194 "wikitext_ragel.rl"
	{te = p+1;{
            if (out->column_start == 1 || last_token_type == BLOCKQUOTE)
                EMIT(BLOCKQUOTE);
            else
            {
                REWIND();
                EMIT(GREATER);
            }
            {p++; goto _out; }
        }}
	break;
	case 33:
#line 219 "wikitext_ragel.rl"
	{te = p+1;{
            if (out->column_start == 1              ||
                last_token_type == OL               ||
                last_token_type == UL               ||
                last_token_type == BLOCKQUOTE       ||
                last_token_type == BLOCKQUOTE_START)
                EMIT(OL);
            else
                EMIT(PRINTABLE);
            {p++; goto _out; }
        }}
	break;
	case 34:
#line 232 "wikitext_ragel.rl"
	{te = p+1;{
            if (out->column_start == 1              ||
                last_token_type == OL               ||
                last_token_type == UL               ||
                last_token_type == BLOCKQUOTE       ||
                last_token_type == BLOCKQUOTE_START)
                EMIT(UL);
            else
                EMIT(PRINTABLE);
            {p++; goto _out; }
        }}
	break;
	case 35:
#line 263 "wikitext_ragel.rl"
	{te = p+1;{
            EMIT(SPAN_START);
            {p++; goto _out; }
        }}
	break;
	case 36:
#line 269 "wikitext_ragel.rl"
	{te = p+1;{
            EMIT(SPAN_END);
            {p++; goto _out; }
        }}
	break;
	case 37:
#line 346 "wikitext_ragel.rl"
	{te = p+1;{
            EMIT(LINK_START);
            {p++; goto _out; }
        }}
	break;
	case 38:
#line 352 "wikitext_ragel.rl"
	{te = p+1;{
            EMIT(LINK_END);
            {p++; goto _out; }
        }}
	break;
	case 39:
#line 358 "wikitext_ragel.rl"
	{te = p+1;{
            EMIT(SEPARATOR);
            {p++; goto _out; }
        }}
	break;
	case 40:
#line 376 "wikitext_ragel.rl"
	{te = p+1;{
            EMIT(QUOT_ENTITY);
            {p++; goto _out; }
        }}
	break;
	case 41:
#line 382 "wikitext_ragel.rl"
	{te = p+1;{
            EMIT(AMP_ENTITY);
            {p++; goto _out; }
        }}
	break;
	case 42:
#line 388 "wikitext_ragel.rl"
	{te = p+1;{
            EMIT(NAMED_ENTITY);
            {p++; goto _out; }
        }}
	break;
	case 43:
#line 394 "wikitext_ragel.rl"
	{te = p+1;{
            EMIT(HEX_ENTITY);
            {p++; goto _out; }
        }}
	break;
	case 44:
#line 400 "wikitext_ragel.rl"
	{te = p+1;{
            EMIT(DECIMAL_ENTITY);
            {p++; goto _out; }
        }}
	break;
	case 45:
#line 406 "wikitext_ragel.rl"
	{te = p+1;{
            EMIT(QUOT);
            {p++; goto _out; }
        }}
	break;
	case 46:
#line 430 "wikitext_ragel.rl"
	{te = p+1;{
            EMIT(IMG_START);
            {p++; goto _out; }
        }}
	break;
	case 47:
#line 436 "wikitext_ragel.rl"
	{te = p+1;{
            EMIT(IMG_END);
            {p++; goto _out; }
        }}
	break;
	case 48:
#line 454 "wikitext_ragel.rl"
	{te = p+1;{
            EMIT(CRLF);
            out->column_stop = 1;
            out->line_stop++;
            {p++; goto _out; }
        }}
	break;
	case 49:
#line 505 "wikitext_ragel.rl"
	{te = p+1;{
            EMIT(DEFAULT);
            out->column_stop = out->column_start + 1;
            {p++; goto _out; }
        }}
	break;
	case 50:
#line 133 "wikitext_ragel.rl"
	{te = p;p--;{
            if (DISTANCE() == 5)
                EMIT(STRONG_EM);
            else if (DISTANCE() == 4)
            {
                p--;
                EMIT(STRONG_EM);
            }
            else if (DISTANCE() == 3)
                EMIT(STRONG);
            else if (DISTANCE() == 2)
                EMIT(EM);
            else
                EMIT(PRINTABLE);
            {p++; goto _out; }
        }}
	break;
	case 51:
#line 194 "wikitext_ragel.rl"
	{te = p;p--;{
            if (out->column_start == 1 || last_token_type == BLOCKQUOTE)
                EMIT(BLOCKQUOTE);
            else
            {
                REWIND();
                EMIT(GREATER);
            }
            {p++; goto _out; }
        }}
	break;
	case 52:
#line 207 "wikitext_ragel.rl"
	{te = p;p--;{
            if (out->column_start == 1 || last_token_type == BLOCKQUOTE)
            {
                REWIND();
                EMIT(PRE);
            }
            else
                EMIT(SPACE);
            {p++; goto _out; }
        }}
	break;
	case 53:
#line 245 "wikitext_ragel.rl"
	{te = p;p--;{
            EMIT(HR);
            {p++; goto _out; }
        }}
	break;
	case 54:
#line 251 "wikitext_ragel.rl"
	{te = p;p--;{
            EMIT(BR_CLEAR);
            {p++; goto _out; }
        }}
	break;
	case 55:
#line 257 "wikitext_ragel.rl"
	{te = p;p--;{
            EMIT(BR);
            {p++; goto _out; }
        }}
	break;
	case 56:
#line 275 "wikitext_ragel.rl"
	{te = p;p--;{
            if (out->column_start == 1 || last_token_type == BLOCKQUOTE || last_token_type == BLOCKQUOTE_START)
            {
                REWIND();
                if (DISTANCE() == 1)
                    EMIT(H1_START);
                else if (DISTANCE() == 2)
                    EMIT(H2_START);
                else if (DISTANCE() == 3)
                    EMIT(H3_START);
                else if (DISTANCE() == 4)
                    EMIT(H4_START);
                else if (DISTANCE() == 5)
                    EMIT(H5_START);
                else if (DISTANCE() == 6)
                    EMIT(H6_START);
                else if (DISTANCE() > 6)
                {
                    p = ts + 6;
                    EMIT(H6_START);
                }
            }
            else if (AT_END() || NEXT_CHAR() == '\n' || NEXT_CHAR() == '\r')
            {
                REWIND();
                if (DISTANCE() == 1)
                    EMIT(H1_END);
                else if (DISTANCE() == 2)
                    EMIT(H2_END);
                else if (DISTANCE() == 3)
                    EMIT(H3_END);
                else if (DISTANCE() == 4)
                    EMIT(H4_END);
                else if (DISTANCE() == 5)
                    EMIT(H5_END);
                else if (DISTANCE() == 6)
                    EMIT(H6_END);
                else if (DISTANCE() > 6)
                {
                    p -= 6; // will scan the H6 on the next scan
                    EMIT(PRINTABLE);
                }
            }
            else
            {
                // note that a H*_END token will never match before a BLOCKQUOTE_END
                REWIND();
                EMIT(PRINTABLE);
            }
            {p++; goto _out; }
        }}
	break;
	case 57:
#line 328 "wikitext_ragel.rl"
	{te = p;p--;{
            EMIT(URI);
            {p++; goto _out; }
        }}
	break;
	case 58:
#line 334 "wikitext_ragel.rl"
	{te = p;p--;{
            EMIT(MAIL);
            {p++; goto _out; }
        }}
	break;
	case 59:
#line 340 "wikitext_ragel.rl"
	{te = p;p--;{
            EMIT(PATH);
            {p++; goto _out; }
        }}
	break;
	case 60:
#line 364 "wikitext_ragel.rl"
	{te = p;p--;{
            EMIT(EXT_LINK_START);
            {p++; goto _out; }
        }}
	break;
	case 61:
#line 370 "wikitext_ragel.rl"
	{te = p;p--;{
            EMIT(EXT_LINK_END);
            {p++; goto _out; }
        }}
	break;
	case 62:
#line 412 "wikitext_ragel.rl"
	{te = p;p--;{
            EMIT(AMP);
            {p++; goto _out; }
        }}
	break;
	case 63:
#line 418 "wikitext_ragel.rl"
	{te = p;p--;{
            EMIT(LESS);
            {p++; goto _out; }
        }}
	break;
	case 64:
#line 442 "wikitext_ragel.rl"
	{te = p;p--;{
            EMIT(LEFT_CURLY);
            {p++; goto _out; }
        }}
	break;
	case 65:
#line 448 "wikitext_ragel.rl"
	{te = p;p--;{
            EMIT(RIGHT_CURLY);
            {p++; goto _out; }
        }}
	break;
	case 66:
#line 454 "wikitext_ragel.rl"
	{te = p;p--;{
            EMIT(CRLF);
            out->column_stop = 1;
            out->line_stop++;
            {p++; goto _out; }
        }}
	break;
	case 67:
#line 467 "wikitext_ragel.rl"
	{te = p;p--;{
            EMIT(SPECIAL_URI_CHARS);
            {p++; goto _out; }
        }}
	break;
	case 68:
#line 473 "wikitext_ragel.rl"
	{te = p;p--;{
            EMIT(ALNUM);
            {p++; goto _out; }
        }}
	break;
	case 69:
#line 485 "wikitext_ragel.rl"
	{te = p;p--;{
            EMIT(PRINTABLE);
            {p++; goto _out; }
        }}
	break;
	case 70:
#line 328 "wikitext_ragel.rl"
	{{p = ((te))-1;}{
            EMIT(URI);
            {p++; goto _out; }
        }}
	break;
	case 71:
#line 412 "wikitext_ragel.rl"
	{{p = ((te))-1;}{
            EMIT(AMP);
            {p++; goto _out; }
        }}
	break;
	case 72:
#line 418 "wikitext_ragel.rl"
	{{p = ((te))-1;}{
            EMIT(LESS);
            {p++; goto _out; }
        }}
	break;
	case 73:
#line 473 "wikitext_ragel.rl"
	{{p = ((te))-1;}{
            EMIT(ALNUM);
            {p++; goto _out; }
        }}
	break;
	case 74:
#line 1 "NONE"
	{	switch( act ) {
	case 20:
	{{p = ((te))-1;}
            EMIT(HR);
            {p++; goto _out; }
        }
	break;
	case 21:
	{{p = ((te))-1;}
            EMIT(BR_CLEAR);
            {p++; goto _out; }
        }
	break;
	case 22:
	{{p = ((te))-1;}
            EMIT(BR);
            {p++; goto _out; }
        }
	break;
	case 26:
	{{p = ((te))-1;}
            EMIT(URI);
            {p++; goto _out; }
        }
	break;
	case 27:
	{{p = ((te))-1;}
            EMIT(MAIL);
            {p++; goto _out; }
        }
	break;
	case 41:
	{{p = ((te))-1;}
            EMIT(LESS);
            {p++; goto _out; }
        }
	break;
	case 48:
	{{p = ((te))-1;}
            EMIT(SPECIAL_URI_CHARS);
            {p++; goto _out; }
        }
	break;
	case 49:
	{{p = ((te))-1;}
            EMIT(ALNUM);
            {p++; goto _out; }
        }
	break;
	case 50:
	{{p = ((te))-1;}
            EMIT(PRINTABLE);
            {p++; goto _out; }
        }
	break;
	}
	}
	break;
#line 1575 "wikitext_ragel.c"
		}
	}

_again:
	_acts = _wikitext_actions + _wikitext_to_state_actions[cs];
	_nacts = (unsigned int) *_acts++;
	while ( _nacts-- > 0 ) {
		switch ( *_acts++ ) {
	case 5:
#line 1 "NONE"
	{ts = 0;}
	break;
#line 1588 "wikitext_ragel.c"
		}
	}

	if ( cs == 0 )
		goto _out;
	if ( ++p != pe )
		goto _resume;
	_test_eof: {}
	if ( p == eof )
	{
	if ( _wikitext_eof_trans[cs] > 0 ) {
		_trans = _wikitext_eof_trans[cs] - 1;
		goto _eof_trans;
	}
	}

	_out: {}
	}

#line 557 "wikitext_ragel.rl"
    if (cs == wikitext_error)
        rb_raise(eWikitextParserError, "failed before finding a token");
    else if (out->type == NO_TOKEN)
        rb_raise(eWikitextParserError, "failed to produce a token");
}
